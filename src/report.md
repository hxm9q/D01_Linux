## Part 1. Установка OC
**== Выполнение ==**

![1](images/part1.1.png)

## Part 2. Создание пользователя
**== Выполнение ==**

-  Создаю нового пользователя another_user командой `sudo adduser another_user`

![2.1](images/part2.1.png)

-  Добавляю another_user в группу adm командой `sudo usermod -a -G adm another_user`

![2.2](images/part2.2.png)

-  Выполнение команды `cat /etc/passwd`

![2.3](images/part2.3.png)

## Part 3. Настройка сети  OC
**== Выполнение ==**

-  Задаю имя хоста командой `sudo hostname user-1`

![3.1](images/part3.1.png)

-  Устанавливаю временную зону

![3.2](images/part3.2.png)

-  Вывожу названия сетевых интерфейсов командой `ip -br link show`

![3.3](images/part3.3.png)

>Интерфейс "lo" (loopback device) представляет собой виртуальный сетевой интерфейс в операционных системах Unix/Linux. Он используется для обратной связи на уровне сетевого стека. Этот интерфейс обычно имеет адрес "127.0.0.1", который также известен как "localhost".

-  Вывожу полученный ip-адрес устройства от DHCP сервера командой `sudo dhclient -v`

![3.3.1](images/part3.3.1.png)

>DHCP расшифровывается как "Dynamic Host Configuration Protocol" (Протокол динамической конфигурации узла). DHCP - это протокол сетевого уровня, который используется для автоматической настройки сетевых параметров устройствам в сети. Эти параметры могут включать IP-адрес, шлюз по умолчанию, адрес DNS-сервера и другие параметры, необходимые для подключения к сети и обмена данными в ней.

-  Вывожу внешний и внутренний ip-адрес шлюза командами `curl icanhazip.com` и `hostname -I` соответственно

![3.4](images/part3.4.png)

- Задаю статичные настройки ip, gw, dns, используя публичный DNS сервер

- Открою файл статической конфигурации YAML в текстовом редакторе: `sudo nano /etc/netplan/00-installer-config.yaml` и приведу его к необходимому виду

![3.5](images/part3.5.png)
![3.5.1](images/part3.5.1.png)

- Чтобы применить изменения выполню `sudo network apply`

- Проверяю, что интерфейс настроен на использование статического ip-адреса командой `ip route show`

![3.5.2](images/part3.5.2.png)

- Перезапускаю виртуальную машину и проверяю, что файл с сетевыми настройками не изменился

![3.6](images/part3.6.png)

- Пингую удаленные хосты 1.1.1.1 и ya.ru

![3.7](images/part3.7.png)

## Part4. Обновление OC
**== Выполнение ==**

- Обновил системные пакеты до последней версии

![4.1](images/part4.png)

## Part 5. Использование команды sudo
**== Выполнение ==**

> Команда sudo (от английского "Superuser Do") в Linux и других UNIX-подобных операционных системах используется для выполнения команд от имени суперпользователя (root) или другого пользователя, обладающего правами администратора.

> Назначение команды sudo заключается в том, чтобы предоставить временный доступ к привилегированным командам без необходимости постоянного входа в систему в качестве суперпользователя. Это повышает безопасность системы, так как ограничивает доступ к привилегированным операциям только для тех, кто имеет соответствующие права.


- Разрешу пользователю `another_user` выполнять команду `sudo` с помощью `sudo usermod -aG sudo another_user`

![5.1](images/part5.1.png)

- Измененный `hostname`

![5.2](images/part5.2.png)

## Part 6. Установка и настройка службы времени
**== Выполнение ==**

- Включу синхронизацию командой `set-ntp on`
- Выведу время и дату моего часового пояса

![6](images/part6.png)

## Part 7. Установка и использование текстовых редакторов
**== Выполнение ==**

- Запишу свой никнейм в редакторах vim, nano, joe

<b> VIM

![7.1](images/part7.1.png)

Для выхода нажал `shift + :`, затем ввел `wq`

NANO

![7.2](images/part7.2.png)

Для выхода нажал `Ctrl + O`, затем `Ctrl + X`

JOE

![7.3](images/part7.3.png)

Для выхода нажал `Ctrl + K`, затем `Ctrl + X`
</b>

- Доказательства сохранения:

![7.4](images/part7.4.png)

- Отредактирую файл, заменив никнейм на "21 School 21", закрою без сохранения

<b> VIM

![7.5](images/part7.5.png)

Для выхода без сохранения нажал `shift + :`, затем впишу `q!`

NANO

![7.6](images/part7.6.png)

Для выхода без сохранения нажал `Ctrl + X`, затем `N` 

JOE

![7.7](images/part7.7.png)

Для выхода без сохранения нажал `Ctrl + C`, затем `Y`
</b>

- Отредактирую файл еще раз и заменю слово функцией поиска по содержимому

<b> VIM

![7.8](images/part7.8.png)

Для поиска и замены ввожу `:s/слово/замена`

NANO

![7.9](images/part7.9.png)
![7.10](images/part7.10.png)

Для поиска и замены ввожу `Ctrl + W`, затем `Ctrl + \`

JOE

![7.11](images/part7.11.png)
![7.12](images/part7.11.png)

Для поиска и замены ввожу `Ctrl + K + F`, затем `Ctrl + R + слово`
</b>
## Part 8. Установка и базовая настройка сервиса SSHD
**== Выполнение ==**

- Устанавливаю SSH командой `sudo apt-get install ssh`, затем включаю его `sudo systemctl enable ssh`

![8.1](images/part8.1.png)

- Проверю, что SSHd работает

![8.2](images/part8.2.png)

- Поменяю Port на 2022 и уберу `#`, чтобы раскомментировать строку, затем перезапущу SSH командой `sudo systemctl restart ssh`

- Показываю наличие процесса sshd, проверяю запущен ли ssh-демон
- Делаю `reboot` и `netstat -tan`

![8.3](images/part8.3.png)

> Команды ps и grep используются для работы с процессами в системе.

1. ps: Это команда, которая используется для вывода информации о текущих процессах в системе.
2. -A: Этот ключ для ps указывает команде выводить информацию о всех процессах в системе.
3. | : Это символ "pipe", который используется для передачи вывода одной команды на вход другой команде.
4. grep: Эта команда используется для фильтрации строк на основе заданного шаблона.
5. ssh: Это шаблон, по которому grep фильтрует вывод ps, чтобы найти строки, содержащие текст "ssh".

> Таким образом, команда `ps -A | grep ssh` выводит информацию о всех процессах в системе, а затем фильтрует строки, оставляя только те, которые содержат "ssh".

> Команда `netstat` работает вместе с командой `ifconfig` и служит для отображения состояния сетевого интерфейса TCP/IP:
1. -a - Отображение всех подключений и ожидающих портов. \
2. -n - Отображение адресов и номеров портов в числовом формате. \
3. -t - Отображение текущего подключения в состоянии переноса нагрузки процессора на сетевой адаптер при передаче данных ( "offload" ).
> 0.0.0.0 - это специальный IP-адрес, который означает “любой IP-адрес”. Он используется в настройках сетевых программ, когда нужно указать “любой IP-доступ”, “все IP-адреса” или “локальный хост”. Например, если серверу нужно принимать соединения от любого IP-адреса, он может быть настроен на 0.0.0.0, тогда как фактическому IP-адресу клиента будет присваиваться адрес при подключении.

## Part 9. Установка и использование утилит top, htop
**== Выполнение ==**

- Установлю htop командой `sudo apt install htop`

- Вывод команды `top`

![9.1](images/part9.1.png)

1. uptime: 45 min
2. users: 1
3. загрузка системы: 0.00, 0.03, 0.05
4. количество процессов: 196
5. загрузка cpu: 0.0us, 0.2sy, 0.0ni, 99.8id, 0.0wa, 0.0hi, 0.0si, 0.0st
6. pid процесса, занимающего больше всего памяти: 1530 
7. pid процесса, занимающего больше всего процессорного времени: 2161

- Вывод команды `htop`
1. Отсортированный по PID

![9.2](images/part9.2.png)

2. Отсортированный по PERCENT_CPU

![9.3](images/part9.3.png)

3. Отсортированный по PERCENT_MEM

![9.4](images/part9.4.png)

4. Отсортированный по TIME

![9.5](images/part9.5.png)

5. Отфильтрованный для процесса sshd

![9.6](images/part9.6.png)

6. С процессом syslog, найденным, используя поиск

![9.7](images/part9.7.png)

7. С добавленным выводом hostname, clock и uptime `echo "Hostname: $(hostname)" && echo "Current Time: $(date)" && echo "HTOP Output:" && htop`

![9.8](images/part9.8.png)

## Part 10. Использование утилиты fdisk
**== Выполнение ==**

- Вывод команды `fdisk -l`

![10.1](images/part10.1.png)

1. Название жесткого диска: /dev/mapper/ubuntu--vg-ubuntu-lv
2. Размер жесткого диска: 10GiB
3. Количество секторов жесткого диска: 20971520
4. Размер swap: 10GiB

## Part 11. Использование утилиты df
**== Выполнение ==**

- Вывод команд `df` и `df -Th`

![11.1](images/part11.1.png)

- Для `df`:
1. Размер раздела: 10218772Kb
2. Размер занятого пространства: 3136412Kb
3. Размер свободного пространства: 6541688Kb
4. Процент использования: 33%
5. Единица измерения: Kb

- Для `df -Th`
1. Размер раздела: 9,8G
2. Размер занятого пространства: 3.0G
3. Размер свободного пространства: 6.3G
4. Процент использования: 33%
5. Тип файловой системы: ext4

## Part 12. Использование утилиты du
**== Выполнение ==**

- Вывод команды `du -sh` для `/home /var /var/log`

![12.1](images/part12.1.png)

- Вывод команды `du -sh` для `/var/log/*`

![12.2](images/part12.2.png)

## Part 13. Установка и использование утилиты ncdu
**== Выполнение ==**

- Устанавливаю утилиту `ncdu`

![13.1](images/part13.1.png)

- Вывод размера папки `/home`

![13.2](images/part13.2.png)

- Вывод размера папки `/var`

![13.3](images/part13.3.png)

- Вывод размера паки `/var/log`

![13.4](images/part13.4.png)

## Part 14. Работа с системными журналами
**== Выполнение ==**

- Открою `/var/log/dmesg`

![14.1](images/part14.1.png)

- Открою `/var/log/syslog`

![14.2](images/part14.2.png)

- Открою `/var/log/auth.log`

![14.3](images/part14.3.png)

- Рестарт службы SSHd

![14.4](images/part14.4.png)

## Part 15. Использование планировщика заданий CRON
**== Выполнение ==**

- Открою `crontab` командой `crontab -e`, выбрав в качестве редактора NANO
- Добавлю строку `*/2 * * * * uptime` в конец файла, чтобы запускать команду `uptime` каждые 2 минуты

![15.1](images/part15.1.png)

- Включу `CRON` и запущу его

![15.2](images/part15.2.png)

- Строчки о выполнении из системного журнала:

![15.3](images/part15.3.png)

- Список текущих заданий для `CRON`

![15.4](images/part15.4.png)

- Список заданий для `CRON` после их удаления

![15.5](images/part15.5.png)